(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4930],{84875:function(e,i,l){Promise.resolve().then(l.bind(l,16608))},16608:function(e,i,l){"use strict";l.d(i,{default:function(){return Z}});var n=l(57437),a=l(18722),t=l(2265),s=l(12704),r=l(46762),o=l(10186),c=l(9772),d=l.n(c);function u(e){var i,l;let a=null!==(i=e.size)&&void 0!==i?i:"md",t=null!==(l=e.color)&&void 0!==l?l:"primary";return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{type:"button",title:e.title,onClick:e.onClick,disabled:e.disabled,className:d()("rounded-full p-1 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-i-orange","disabled:cursor-not-allowed disabled:bg-zinc-100 disabled:text-zinc-600 disabled:ring-1 disabled:ring-inset disabled:ring-zinc-100",{["".concat(e.className)]:e.className,"bg-i-orange text-white shadow-sm hover:bg-i-orange-light":"primary"===t,"text-i-orange hover:bg-i-orange-lighter":"plain"===t,"text-gray-400 hover:bg-gray-100":"gray"===t}),children:(0,n.jsx)(e.icon,{className:d()({"h-5 w-5":"sm"===a,"h-6 w-6":"md"===a,"h-7 w-7":"lg"===a}),"aria-hidden":"true","data-testid":"btn-icon"})})})}function h(e){return(0,n.jsx)(u,{icon:o.Z,size:"md",color:"plain",className:d()("-my-1",{["".concat(e.className)]:e.className}),title:"More info",onClick:e.onClick})}function x(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("legend",{className:"sr-only",children:e.label}),(0,n.jsxs)("div",{className:"flex items-start",role:"",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("legend",{"aria-hidden":"true",className:"block text-sm font-medium leading-6 text-gray-900",children:e.label}),e.helpText?"string"==typeof e.helpText?(0,n.jsx)("div",{className:"text-sm text-gray-500",children:e.helpText}):e.helpText:null]}),e.helpButton&&(0,n.jsx)(h,{onClick:e.helpButton.onClick,className:e.helpButton.className})]})]})}function p(e){let{id:i,label:l,labelIsHidden:a,helpText:s,helpButton:o,max:c,options:u,checked:h,onChange:p,error:g}=e,m=(0,t.useMemo)(()=>u.map(e=>({id:e.id,name:e.name,isChecked:h.map(e=>e.name).includes(e.name)})),[h,u]),[v,j]=(0,t.useState)(m),b=(0,t.useMemo)(()=>v.reduce((e,i)=>i.isChecked?e+1:e,0),[v]),f=(0,t.useCallback)(e=>{if(!c||e.isChecked||b<c){let i=v.map(i=>i.name===e.name?{...i,isChecked:!i.isChecked}:i);j(i),p(i.filter(e=>e.isChecked))}},[b,v,c,p]);return(0,n.jsxs)("fieldset",{children:[(0,n.jsx)(x,{label:l,isHidden:a,helpText:s,helpButton:o}),(0,n.jsx)("div",{className:"flex flex-wrap gap-x-2 gap-y-3 mt-3",id:i,"aria-describedby":"".concat(i,"-error"),children:v.map(e=>{let l=e.isChecked||!c||b<c;return(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{className:"sr-only",id:e.name,name:i,type:"checkbox",value:e.name,checked:e.isChecked,"aria-checked":e.isChecked,onChange:()=>f(e)}),(0,n.jsx)("label",{htmlFor:e.name,className:d()("inline-flex items-center gap-x-0.5 rounded-full px-2 py-1 text-xs font-medium text-gray-900 ring-1 ring-inset ring-gray-400",{"hover:ring-gray-500 hover:bg-gray-100":!e.isChecked,"hover:ring-i-blue-dark hover:bg-i-blue-lightest":e.isChecked,"ring-i-blue-dark bg-i-blue-lightest":e.isChecked,"cursor-pointer":l,"cursor-not-allowed":!l}),children:e.name})]},e.name)})}),g&&(0,n.jsxs)("div",{className:"flex flex-row items-center mt-2",children:[(0,n.jsx)(r.Z,{className:"h-5 w-5 mr-2 text-red-500","aria-hidden":"true"}),(0,n.jsx)("p",{className:"text-red-600 font-medium",id:"".concat(i,"-error"),children:g})]})]})}var g=l(97019),m=l.n(g),v=l(50104),j=l.n(v),b=l(47231),f=l.n(b),k=l(6280),C=l.n(k),N=(e,i,l,n)=>{let[a,s]=(0,t.useState)(e),[r,o]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),u=e=>{let i={...a};p(Object.keys(e)),Object.keys(e).forEach(n=>f()(i,n,l&&l[n]?l[n](e[n],a[n]):e[n])),s(i)},h=(0,t.useCallback)(e=>{var i;let l=new(C())({allErrors:!0,strict:!1,$data:!0}).compile(e),n=l(a);return{errors:n?{}:(null===(i=l.errors)||void 0===i?void 0:i.reduce((i,l)=>{let n=l.instancePath.replace(/^\//,""),a=m()(e,"properties.".concat(String(n),".message"));return i[n]={type:l.keyword,description:l.message,message:a&&a[l.keyword]},i},{}))||{},valid:n}},[a]),x=(0,t.useMemo)(()=>{if(n){let{valid:e}=h(n);return e}return!0},[h]),p=e=>{let i=(e instanceof Array?e:[e]).reduce((e,i)=>c[i]?{...e,[i]:void 0}:e,{});j()(i)||d(e=>({...e,...i}))};return{value:a,update:u,errors:r,schemaErrors:c,isValid:x,validate:()=>{if(n){let{valid:e,errors:i}=h(n);return d(i||{}),e}if(!i)return!0;let e=Object.keys(i).reduce((e,l)=>({...e,[l]:i[l](a[l])}),r);return o(e),!Object.values(e).some(e=>!!e)},fields:Object.keys(e).reduce((e,l)=>({...e,[l]:{value:a[l],validate:()=>{if(p(l),n){let{errors:e}=h(n),i=e[l];return i&&d(e=>({...e,[l]:i})),!i}if(i){let e=i[l](a[l]);return o(i=>({...i,[l]:e})),!e}return!0},update:e=>{p(l),u({[l]:e})},error:c[l]}}),{})}},y=l(28140),w=l(80422),S=l(46135);function M(e){var i;let l=!!(null===(i=e.selectedTagIds)||void 0===i?void 0:i.length),[s,r]=(0,t.useState)(l),o=N({tags:e.tags.filter(i=>{var l;return null===(l=e.selectedTagIds)||void 0===l?void 0:l.split(",").includes(String(i.id))})});return e.tags.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.Z,{flex:!0,gap:"sm",align:"center",className:"flex-wrap",children:[(0,n.jsx)(a.Z,{children:(0,n.jsxs)("button",{onClick:()=>r(!s),className:"flex gap-x-4 items-center justify-between block w-full py-2 px-4 text-xs text-i-blue-dark font-semibold ".concat(l&&!s?"ring-[2px] ring-i-blue":""," border border-i-blue rounded-3xl bg-white focus:ring-i-blue focus:border-i-blue"),children:["Impact areas",s?(0,n.jsx)(y.Z,{className:"".concat(l?"stroke-2":""," w-4 h-4 ")}):(0,n.jsx)(w.Z,{className:"w-4 h-4"})]})}),(0,n.jsxs)(a.Z,{className:"md:order-none order-first",children:[(0,n.jsx)("label",{htmlFor:"state",className:"sr-only",children:"Select a State"}),(0,n.jsxs)("select",{value:e.selectState||"",onChange:i=>e.onStateChange(i.target.value),id:"state",className:"block w-full py-2 pl-4 pr-10 text-xs text-i-blue-dark font-semibold border border-i-blue rounded-3xl bg-white focus:ring-i-blue focus:border-i-blue",children:[(0,n.jsx)("option",{value:"",children:"State"}),(0,n.jsx)("option",{value:"AL",children:"Alabama"}),(0,n.jsx)("option",{value:"AK",children:"Alaska"}),(0,n.jsx)("option",{value:"AZ",children:"Arizona"}),(0,n.jsx)("option",{value:"AR",children:"Arkansas"}),(0,n.jsx)("option",{value:"CA",children:"California"}),(0,n.jsx)("option",{value:"CO",children:"Colorado"}),(0,n.jsx)("option",{value:"CT",children:"Connecticut"}),(0,n.jsx)("option",{value:"DE",children:"Delaware"}),(0,n.jsx)("option",{value:"DC",children:"District Of Columbia"}),(0,n.jsx)("option",{value:"FL",children:"Florida"}),(0,n.jsx)("option",{value:"GA",children:"Georgia"}),(0,n.jsx)("option",{value:"HI",children:"Hawaii"}),(0,n.jsx)("option",{value:"ID",children:"Idaho"}),(0,n.jsx)("option",{value:"IL",children:"Illinois"}),(0,n.jsx)("option",{value:"IN",children:"Indiana"}),(0,n.jsx)("option",{value:"IA",children:"Iowa"}),(0,n.jsx)("option",{value:"KS",children:"Kansas"}),(0,n.jsx)("option",{value:"KY",children:"Kentucky"}),(0,n.jsx)("option",{value:"LA",children:"Louisiana"}),(0,n.jsx)("option",{value:"ME",children:"Maine"}),(0,n.jsx)("option",{value:"MD",children:"Maryland"}),(0,n.jsx)("option",{value:"MA",children:"Massachusetts"}),(0,n.jsx)("option",{value:"MI",children:"Michigan"}),(0,n.jsx)("option",{value:"MN",children:"Minnesota"}),(0,n.jsx)("option",{value:"MS",children:"Mississippi"}),(0,n.jsx)("option",{value:"MO",children:"Missouri"}),(0,n.jsx)("option",{value:"MT",children:"Montana"}),(0,n.jsx)("option",{value:"NE",children:"Nebraska"}),(0,n.jsx)("option",{value:"NV",children:"Nevada"}),(0,n.jsx)("option",{value:"NH",children:"New Hampshire"}),(0,n.jsx)("option",{value:"NJ",children:"New Jersey"}),(0,n.jsx)("option",{value:"NM",children:"New Mexico"}),(0,n.jsx)("option",{value:"NY",children:"New York"}),(0,n.jsx)("option",{value:"NC",children:"North Carolina"}),(0,n.jsx)("option",{value:"ND",children:"North Dakota"}),(0,n.jsx)("option",{value:"OH",children:"Ohio"}),(0,n.jsx)("option",{value:"OK",children:"Oklahoma"}),(0,n.jsx)("option",{value:"OR",children:"Oregon"}),(0,n.jsx)("option",{value:"PA",children:"Pennsylvania"}),(0,n.jsx)("option",{value:"RI",children:"Rhode Island"}),(0,n.jsx)("option",{value:"SC",children:"South Carolina"}),(0,n.jsx)("option",{value:"SD",children:"South Dakota"}),(0,n.jsx)("option",{value:"TN",children:"Tennessee"}),(0,n.jsx)("option",{value:"TX",children:"Texas"}),(0,n.jsx)("option",{value:"UT",children:"Utah"}),(0,n.jsx)("option",{value:"VT",children:"Vermont"}),(0,n.jsx)("option",{value:"VA",children:"Virginia"}),(0,n.jsx)("option",{value:"WA",children:"Washington"}),(0,n.jsx)("option",{value:"WV",children:"West Virginia"}),(0,n.jsx)("option",{value:"WI",children:"Wisconsin"}),(0,n.jsx)("option",{value:"WY",children:"Wyoming"})]})]}),(0,n.jsx)(a.Z,{children:(0,n.jsxs)("button",{onClick:()=>{r(!1),e.onTagChange(""),o.fields.tags.update([]),e.onStateChange(""),e.onActiveProjectsChange(!1)},className:"flex gap-x-1 items-center justify-between block w-full text-xs text-i-blue-dark font-semibold",children:[(0,n.jsx)(S.Z,{className:"w-4 h-4 stroke-2"})," Clear filters"]})})]}),s&&(0,n.jsx)(p,{id:"tags",label:"",options:e.tags,max:100,checked:o.fields.tags.value,onChange:i=>{o.fields.tags.update(i),e.onTagChange(i.map(e=>String(e.id)).join(","))},error:o.errors.tags})]}):null}var A=l(54820),T=l.n(A),I=l(99126);function O(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{htmlFor:"search-input",children:(0,n.jsxs)(I.Z,{weight:"semibold",uppercase:!0,size:"md",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",marginTop:"-3px",marginRight:"5px"},height:"1em",viewBox:"0 0 512 512",children:(0,n.jsx)("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})})," ","Search"]})}),(0,n.jsx)("input",{autoFocus:!0,id:"search-input",type:"text",className:"border border-gray-500 shadow text-md rounded-lg focus:ring-i-blue focus:border-i-blue block w-full p-2.5",value:e.value||"",onChange:i=>e.onChange(i.target.value)})]})}function Z(e){var i;let[l,r]=(0,t.useState)(""),[o,c]=(0,t.useState)(),[d,u]=(0,t.useState)(),[h,x]=(0,t.useState)(),[p,g]=(0,t.useState)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.Z,{fullWidth:!0,children:[(0,n.jsx)(a.Z,{position:"relative",children:(0,n.jsx)(a.Z,{vertical:!0,gapY:"md",maxWidth:"xl",px:"xl",mx:"auto",children:(0,n.jsx)(O,{value:l,onChange:r})})}),(0,n.jsx)(a.Z,{fullWidth:!0,maxWidth:"xl",px:"xl",mx:"auto",pt:"md",children:!!(null===(i=e.tags)||void 0===i?void 0:i.length)&&(0,n.jsx)(M,{selectState:h,selectedTagIds:d,tags:e.tags,activeProjects:p,onStateChange:e=>x(e),onTagChange:e=>u(e),onActiveProjectsChange:e=>g(e)})})]}),(0,n.jsx)(a.Z,{fullWidth:!0,maxWidth:"xl",px:"xl",mx:"auto",pt:"md",pb:"4xl",children:(0,n.jsx)(s.default,{search:l,page:o,tags:d,isAcceptingDonations:p,state:h,tagMap:T()(e.tags,"id"),onPageChange:c})})]})}}},function(e){e.O(0,[8545,231,4909,2547,2706,4312,4061,2704,2971,7023,1744],function(){return e(e.s=84875)}),_N_E=e.O()}]);